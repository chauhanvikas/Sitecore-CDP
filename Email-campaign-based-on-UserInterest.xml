<definitions xmlns="http://www.omg.org/spec/DMN/20151101/dmn.xsd" xmlns:biodi="http://bpmn.io/schema/dmn/biodi/1.0" xmlns:camunda="http://camunda.org/schema/1.0/dmn" namespace="http://camunda.org/schema/1.0/dmn" name="definitions" id="definitions"><decision id="da94c7b0-559a-419c-8a84-cbc794001728" name="ProductsbasedonUserInterestv2"><extensionElements><biodi:bounds x="660" y="240" width="200" height="73.3"/><biodi:edge source="abb15698-620b-4a70-a77a-9b6bea0614b8"/></extensionElements><variable id="variableaae3d659-f37d-44bd-a560-d5880c6f4907" typeRef="map" name="productsbasedonuserinterestv2"/><informationRequirement><requiredDecision href="#abb15698-620b-4a70-a77a-9b6bea0614b8"/></informationRequirement><literalExpression expressionLanguage="web-service" id="literalaae3d659-f37d-44bd-a560-d5880c6f4907"><text><![CDATA[{"clientKey":"psfu6uh05hsr9c34rptlr06dn864cqrx","href":"https://api-eu-west-1-production.boxever.com/v2/connections/fc432de4-8ddb-4b1e-9a2d-909027a8113e","ref":"fc432de4-8ddb-4b1e-9a2d-909027a8113e","name":"ProductsbasedonUserInterestv2","description":"Get Products based on User Interest","modifiedByRef":"c6887c89-6f0f-4e5c-8ed6-ff630f6d5b3a","modifiedAt":"2021-11-01T04:44:28.711Z","revision":1,"archived":false,"auth":{"authType":"NONE"},"request":{"requestType":"GET","connectionUrl":"https://healthcare.demos.hclets.com/api/products/GetProductRecommendation/${id}"},"inputMappings":[],"outputMappings":[{"label":"Result","outputReference":"result","type":"Array"},{"label":"Message","outputReference":"message","type":"String"}],"customHeaders":[{"name":"Accept","value":"application/json"},{"name":"Accept-Encoding","value":"gzip"}],"urlParameters":[{"label":"productCategory","key":"id","type":"string","exampleValue":"Electric Tooth Brushes","mapping":"programmable1","data":{"type":"Programmables","label":"Interest","value":"programmable1","dataType":"string","firstInGroup":true}}],"systemType":"DATA_SYSTEM","connectionTimeout":5000,"socketTimeout":2000,"icon":"fad fa-chart-network"}]]></text></literalExpression></decision><decision id="eac09029-d332-4a3d-bd87-b54fbd249411" name="Decision Table 1"><extensionElements><biodi:bounds x="1010" y="110" width="200" height="73.3"/><biodi:edge source="e9909962-6306-4b38-9cec-a8f915a9e881"/><biodi:edge source="a3c8282e-308b-412b-baa1-d2f939d40887"/></extensionElements><informationRequirement><requiredDecision href="#a3c8282e-308b-412b-baa1-d2f939d40887"/></informationRequirement><authorityRequirement><requiredAuthority href="#e9909962-6306-4b38-9cec-a8f915a9e881"/></authorityRequirement><decisionTable hitPolicy="UNIQUE"><input id="map43559e54-07ff-4aad-9065-aa5135e0784c" label="Product" camunda:inputVariable=""><inputExpression typeRef="string"><text>programmable1</text></inputExpression></input><output id="stringcbe83c20-b773-4049-bc4e-1e3d1710dcfc" label="offer" name="offer" typeRef="com.boxever.offer" biodi:offerTemplateRef="f7c7f04a-a127-4cf3-ba08-4988a69647ab"/><rule id="DecisionTable1_0"><inputEntry id="input49c2818d-49b3-4c80-91cf-7ea8c6b723c0"><text><![CDATA[]]></text></inputEntry><outputEntry id="outputd53d4c9f-ae65-4bc2-99a9-2d2532c7274a"><text><![CDATA["2dcb1030-6ee2-4f31-b7f6-1fb3c4036d8f"]]></text></outputEntry></rule></decisionTable></decision><inputData id="e5c3ce95-c9f1-41fa-953c-0cc077c78473" name="Guest"><extensionElements><biodi:bounds x="70" y="340" width="200" height="73.3"/></extensionElements></inputData><inputData id="b7f36bad-e41a-4fb2-9488-f178fe44bad5" name="Sessions"><extensionElements><biodi:bounds x="345" y="340" width="200" height="73.3"/></extensionElements></inputData><knowledgeSource id="e9909962-6306-4b38-9cec-a8f915a9e881" name="Offers"><extensionElements><biodi:bounds x="889" y="340" width="200" height="73.3"/></extensionElements></knowledgeSource><decision id="abb15698-620b-4a70-a77a-9b6bea0614b8" name="Interest"><extensionElements><biodi:bounds x="145" y="150" width="200" height="73.3"/><biodi:edge source="b7f36bad-e41a-4fb2-9488-f178fe44bad5"/><biodi:edge source="e5c3ce95-c9f1-41fa-953c-0cc077c78473"/></extensionElements><variable id="variable1632821753675" typeRef="string" name="programmable1"/><informationRequirement><requiredInput href="#b7f36bad-e41a-4fb2-9488-f178fe44bad5"/></informationRequirement><informationRequirement><requiredInput href="#e5c3ce95-c9f1-41fa-953c-0cc077c78473"/></informationRequirement><literalExpression id="literal1632821753675" expressionLanguage="javascript"><text><![CDATA[(function () { var interest="Medicines";for (var i = 0; i < guest.dataExtensions.length; i++) {var dataExtn=guest.dataExtensions[i]; interest=guest.dataExtensions[i].values.Interest  break;  }return interest; })();]]></text></literalExpression></decision><decision id="a3c8282e-308b-412b-baa1-d2f939d40887" name="Programmable 1"><extensionElements><biodi:bounds x="730" y="90" width="200" height="73.3"/><biodi:edge source="da94c7b0-559a-419c-8a84-cbc794001728"/></extensionElements><variable id="variable1632838177896" typeRef="map" name="programmable1"/><informationRequirement><requiredDecision href="#da94c7b0-559a-419c-8a84-cbc794001728"/></informationRequirement><literalExpression id="literal1632838177896" expressionLanguage="javascript"><text><![CDATA[(function () {
  // Add statements here
  
    var product = [];
     var item = {};
    for(var j = 0; j < productsbasedonuserinterestv2.result.length; j++)
        {
            //get category for each item
            
             item ["name"] =  productsbasedonuserinterestv2.result[j].Name;
             item ["imageurl"] =  productsbasedonuserinterestv2.result[j].ImageUrl;
             item ["producturl"] =  productsbasedonuserinterestv2.result[j].ProductUrl;
              item ["desc"] =  productsbasedonuserinterestv2.result[j].Description;
           //var DisplayName = gspGetProductRecommendation.result[j].Name;
              product.push(item);
              if(j===0)
              break;
            
        }
   
     print(JSON.stringify(product));
   

 return item;
})();]]></text></literalExpression></decision></definitions>